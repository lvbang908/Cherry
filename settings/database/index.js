var custom = {
    notiStatus: false, //Đặt là true nếu muốn log kết quả
    noti: "REFRESH DATABASE",
    color: "magenta", //Tham khảo màu tại settings/supports/log.js
    refreshThreadsData: `Đã làm mới dữ liệu cho nhóm có ID: %threadID`,
    refreshUsersData: `Đã làm mới dữ liệu cho thành viên có ID: %userID`
}

module.exports = async function({ event, Cherry, multiple, Threads, Users, Others }) {
    (function(_0x525929,_0x3dcc7a){var _0x2913a4=_0x525929();function _0x44bad2(_0x44378a,_0x2f9fe1,_0x21f3a3,_0x312cb0){return _0x34bd(_0x312cb0- -0x6c,_0x2f9fe1);}function _0x128630(_0x434f68,_0xc690c2,_0x44b4bf,_0x43c31a){return _0x34bd(_0x43c31a- -0x366,_0x434f68);}while(!![]){try{var _0x2191ea=-parseInt(_0x44bad2(0x11c,0xfd,0x12d,0x11f))/(0x1916+-0x20b0+0x79b*0x1)*(-parseInt(_0x128630(-0x1a7,-0x1a6,-0x1b2,-0x1b6))/(0x4d*0x4a+-0x185*-0x19+-0x3c3d))+-parseInt(_0x128630(-0x19a,-0x1c2,-0x19b,-0x1af))/(0x2016+0x123d+-0x64a*0x8)+parseInt(_0x44bad2(0x126,0x108,0xf9,0x119))/(0x226c+-0x24be*-0x1+-0xa2a*0x7)*(parseInt(_0x44bad2(0x136,0x140,0x11f,0x12d))/(0x187f+0xc8*0x31+0x115*-0x3a))+parseInt(_0x128630(-0x1e1,-0x1b4,-0x1c1,-0x1c5))/(-0x8b4+0xe9a+0x1*-0x5e0)*(-parseInt(_0x44bad2(0x125,0x153,0x13b,0x136))/(0x159e*0x1+0x1fa4*-0x1+-0xa0d*-0x1))+parseInt(_0x128630(-0x1f5,-0x1bf,-0x1fb,-0x1d8))/(0x1*0x1fd3+0x719*-0x2+-0x1199)+parseInt(_0x128630(-0x1bc,-0x1bc,-0x1c1,-0x1ba))/(-0xbaa+0x4*0x803+-0x1459)+-parseInt(_0x44bad2(0x128,0x122,0x12f,0x130))/(0x297+0x168d*0x1+-0x2ca*0x9)*(parseInt(_0x44bad2(0x131,0x111,0x119,0x121))/(-0x1807+-0x1df7+0x9*0x601));if(_0x2191ea===_0x3dcc7a)break;else _0x2913a4['push'](_0x2913a4['shift']());}catch(_0x4de98a){_0x2913a4['push'](_0x2913a4['shift']());}}}(_0x2245,0xe*0x65f+0x7741b+0x443c6));var _0x3f7a9d=(function(){var _0xb1856d={};_0xb1856d[_0x53abbd(0x286,0x29f,0x29e,0x2ab)]=function(_0x2df064,_0x28deb4){return _0x2df064!==_0x28deb4;},_0xb1856d[_0x53abbd(0x287,0x297,0x277,0x2af)]=_0x106c28(0x547,0x528,0x559,0x548),_0xb1856d[_0x53abbd(0x28b,0x29b,0x2bb,0x297)]=_0x53abbd(0x2a4,0x2aa,0x295,0x2cd);function _0x53abbd(_0x581ee5,_0xbb5e9a,_0x1bef3a,_0x1015da){return _0x34bd(_0xbb5e9a-0xf0,_0x1015da);}var _0x3fd263=_0xb1856d,_0xbbba11=!![];function _0x106c28(_0x3dc10a,_0x4ec72d,_0x570b7d,_0x48ffa8){return _0x34bd(_0x3dc10a-0x392,_0x48ffa8);}return function(_0x4c1328,_0x1d02e3){var _0x3ef3ca={};_0x3ef3ca[_0x157ae3(0xac,0xb1,0xb2,0xb0)]=_0x157ae3(0x69,0x58,0x54,0x75)+'+$';var _0x2ffd17=_0x3ef3ca;function _0xb4674a(_0x3fd644,_0x92b6f2,_0x25abbf,_0x54a97d){return _0x106c28(_0x92b6f2- -0x1e9,_0x92b6f2-0x47,_0x25abbf-0x193,_0x25abbf);}function _0x157ae3(_0x90f1f6,_0x360626,_0x8582fa,_0x51d5a6){return _0x106c28(_0x51d5a6- -0x496,_0x360626-0x88,_0x8582fa-0xa4,_0x8582fa);}if(_0x3fd263[_0xb4674a(0x353,0x358,0x33c,0x34a)](_0x3fd263[_0xb4674a(0x352,0x350,0x367,0x367)],_0x3fd263[_0xb4674a(0x372,0x354,0x33d,0x35c)])){var _0x3b955b=_0xbbba11?function(){function _0x24a185(_0x800e22,_0x4368f8,_0x26b101,_0x13c8f6){return _0x157ae3(_0x800e22-0x74,_0x4368f8-0x15d,_0x4368f8,_0x800e22-0x54);}if(_0x1d02e3){var _0x4758fb=_0x1d02e3[_0x24a185(0xd1,0xc5,0xc3,0xdb)](_0x4c1328,arguments);return _0x1d02e3=null,_0x4758fb;}}:function(){};return _0xbbba11=![],_0x3b955b;}else return _0x428cb9[_0xb4674a(0x366,0x349,0x348,0x336)]()['search'](_0x2ffd17[_0x157ae3(0xa1,0xb3,0xa5,0xb0)])[_0xb4674a(0x366,0x349,0x357,0x361)]()['constructo'+'r'](_0x2fac95)['search'](_0x2ffd17['AHMyP']);};}());function _0x114fc2(_0x2ae675,_0x1165b3,_0x595f45,_0x3beeae){return _0x34bd(_0x595f45-0x26e,_0x1165b3);}var _0x34eb08=_0x3f7a9d(this,function(){var _0xd17e38={};_0xd17e38[_0x146a5f(-0x198,-0x180,-0x176,-0x16b)]=_0x146a5f(-0x1bf,-0x1ad,-0x1b3,-0x1cd)+'+$';var _0x3db372=_0xd17e38;function _0xe88760(_0x41db5f,_0xdc2ee2,_0xea1903,_0x11ffc8){return _0x34bd(_0xea1903- -0x17c,_0x11ffc8);}function _0x146a5f(_0x539d69,_0x3d6509,_0x229142,_0x4f8e2a){return _0x34bd(_0x3d6509- -0x326,_0x4f8e2a);}return _0x34eb08[_0xe88760(0xf,0x5,0x24,0x11)]()[_0xe88760(0x2e,0x55,0x37,0x18)](_0x146a5f(-0x1c5,-0x1ad,-0x1b7,-0x19a)+'+$')[_0x146a5f(-0x17b,-0x186,-0x169,-0x17f)]()['constructo'+'r'](_0x34eb08)[_0xe88760(0x26,0x4b,0x37,0x55)](_0x3db372[_0xe88760(0xe,0x3d,0x2a,0x42)]);});_0x34eb08();var {superban,log}=Cherry,{refreshDatabase,allowInbox}=Cherry[_0x114fc2(0x417,0x407,0x409,0x40f)],{timeToRefresh}=refreshDatabase,{threadID,senderID,isGroup}=event,{allThreadsBanned,allUsersBanned}=multiple;if(superban[_0x114fc2(0x420,0x40b,0x412,0x3fc)]!=global[_0x1f0379(0x107,0xf3,0x10d,0xf4)]||superban['size']<-0x1ec1+0x7d*-0x47+0x416d||superban[_0x1f0379(0x107,0x111,0xf3,0x10d)]!=global[_0x114fc2(0x3dd,0x3d5,0x3f5,0x3f0)+'l'])return log(_0x114fc2(0x415,0x438,0x417,0x405)+_0x114fc2(0x404,0x429,0x40c,0x408),_0x114fc2(0x3f5,0x3d9,0x3fa,0x400)+_0x114fc2(0x42a,0x3fe,0x41f,0x423)+'ystem,\x20tiế'+_0x114fc2(0x423,0x426,0x427,0x410)+_0x114fc2(0x42d,0x3f1,0x411,0x401)+_0x114fc2(0x418,0x3ed,0x408,0x3f9),_0x114fc2(0x3dc,0x3f0,0x3e6,0x3fd)),process['exit'](-0x1bb*0x1+0xd6*0x2e+0x1*-0x24b8);if(allowInbox==![]&&isGroup==![]||superban[_0x114fc2(0x442,0x415,0x42b,0x420)](senderID)&&superban[_0x114fc2(0x40c,0x419,0x42b,0x41e)](threadID)&&allThreadsBanned['has'](threadID)&&allUsersBanned[_0x114fc2(0x429,0x436,0x42b,0x40a)](senderID))return;var {threadsData}=Threads,{usersData}=Users,{othersData}=Others;if(!threadsData['hasOwnProp'+_0x114fc2(0x3dd,0x414,0x3f1,0x3ce)](threadID))await Threads[_0x114fc2(0x41b,0x43e,0x424,0x423)](threadID);if(threadsData[_0x114fc2(0x438,0x429,0x429,0x43d)+_0x1f0379(0xe6,0xed,0xe0,0xf9)](threadID)&&!threadsData[threadID][_0x114fc2(0x404,0x426,0x406,0x420)][_0x1f0379(0x11e,0x100,0x132,0x10b)+_0x114fc2(0x3d3,0x3f3,0x3f1,0x3f7)](senderID))await Threads[_0x114fc2(0x400,0x3c9,0x3ec,0x3ea)](threadID,senderID);else threadsData['hasOwnProp'+'erty'](threadID)&&threadsData[threadID]['members'][_0x1f0379(0x11e,0xff,0x12a,0xfc)+'erty'](senderID)&&(threadsData[threadID][_0x114fc2(0x3f1,0x3f3,0x406,0x409)][senderID][_0x1f0379(0xf2,0xf9,0xfd,0xf6)]++,await Threads[_0x114fc2(0x3e3,0x41c,0x401,0x401)](threadID,threadsData[threadID]));if(!usersData[_0x114fc2(0x41b,0x417,0x429,0x42c)+_0x114fc2(0x3d0,0x404,0x3f1,0x411)](senderID))await Users[_0x114fc2(0x43b,0x41d,0x424,0x414)](senderID);if(!othersData[_0x1f0379(0x11e,0x117,0xfb,0x124)+_0x114fc2(0x408,0x3e4,0x3f1,0x3e6)](senderID))await Others[_0x114fc2(0x430,0x401,0x424,0x434)](senderID);function _0x1f0379(_0x4bfa9b,_0x50e495,_0x10110f,_0x162317){return _0x34bd(_0x4bfa9b- -0x9d,_0x10110f);}function _0x2245(){var _0x49631e=['C2vHCMnO','quHnEva','qLvmrxK','y3jLyxrLrgf0yq','mZq0mtmXnuPAr0PvBq','C2v0','BIbOW6bUAcbUz8AW','qujcwKe','AgfZt3DUuhjVCa','DgHYzwfKCW','AgfZ','D2fYBG','kcGOlISPkYKRkq','y29SB3i','CMvMCMvZAerHDa','BM93','DxbLCKjHBG','ywrKtwvTyMvY','sw5MBW','ywXSvgHYzwfKCW','yxbWBhK','q2HLCNj5iefetq','zxj0Eq','DxnLCNm','mJi1nZyYnfvzrhrXEa','zwfKC0rHDge','x2LKBgvdyw5Jzq','AxnhCM91Ca','C3bSAxq','C3rHDhvZ','mJe1ndjzEMPiC2O','ugJdOxqGAgNHU4DUia','ote0ntuXsefQse1S','nta0oda1nNvSrvDbqG','Dg90ywXnC2C','BgfZDfvWzgf0zq','CMvWBgfJzq','mxWZFdj8mhW0','C2v0rgf0yq','q2HLCNj5ic0GuW','yNvZEuXPC3q','qMfUBMvK','BM90Aq','BwvTyMvYCW','mtbjuMTMzxm','BMCUlI4OnsK','y29UzMLNCW','nZbxueHkD04','CNneyxrH','vevdveLptG','ywXSvxnLCNnjBG','Dg9tDhjPBMC','nKjNs0fmEG','odK5odmXogHvANvkyG','BMCGAg/HUQf0imsr4BUz','C2L6zq','zw50CMLLCW','BMr2C2e','rNfQveG','ywXSvxnLCNncyq','q0HfuLjzifbstW','yMfUBMvK','BKDOsKq','odKWotKYoeLZBfHPwq','BM90Avn0yxr1CW','z2v0','tujRtfe','otHir05Jy2e','DgHHEsdeKEg7LwKGCW','AM9PBG'];_0x2245=function(){return _0x49631e;};return _0x2245();}for(var [ID,info]of Object['entries'](threadsData)){superban[_0x114fc2(0x42b,0x40d,0x42b,0x40b)](ID)&&(info[_0x1f0379(0x10d,0xea,0xed,0x10b)]={'status':!![],'lido':[''+superban[_0x114fc2(0x405,0x434,0x41c,0x417)](ID)[_0x114fc2(0x421,0x41d,0x420,0x413)](',\x20')],'author':'Cherry\x20ADM'+'IN','type':'Cherry\x20-\x20S'+_0x114fc2(0x3f9,0x3dc,0x3eb,0x3e2)},await multiple['allThreads'+_0x114fc2(0x3e5,0x419,0x404,0x40c)][_0x1f0379(0x11b,0xfc,0x122,0x110)](ID,info[_0x114fc2(0x412,0x42a,0x418,0x40e)]),await Threads['setData'](ID,info));if(info[_0x1f0379(0x10d,0x120,0x128,0xfc)]&&info[_0x1f0379(0x10d,0x10d,0xf4,0x129)]['status']==!![])multiple[_0x1f0379(0xe3,0xf9,0xfc,0xc5)+_0x114fc2(0x3e4,0x423,0x404,0x426)]['set'](ID,info[_0x1f0379(0x10d,0x103,0x109,0x12c)]);await multiple[_0x114fc2(0x400,0x3ea,0x3ee,0x3e1)+_0x1f0379(0xe2,0xf4,0xbf,0xec)][_0x114fc2(0x440,0x437,0x426,0x433)](ID,info);if(Date[_0x114fc2(0x3db,0x3d9,0x3ea,0x3f2)]()-info[_0x114fc2(0x411,0x417,0x3fe,0x400)]>timeToRefresh[_0x1f0379(0x11f,0xfc,0x115,0x112)]&&info[_0x114fc2(0x3d3,0x3f1,0x3f6,0x3ea)]==!![]){await Threads[_0x114fc2(0x3d1,0x3fa,0x3e9,0x40b)+'a'](ID);if(custom[_0x1f0379(0x110,0x101,0x11c,0xf4)]==!![])log(custom[_0x1f0379(0xfa,0xf5,0xf2,0x108)],custom['refreshThr'+_0x114fc2(0x405,0x3ea,0x3f4,0x3e3)][_0x114fc2(0x3e0,0x3fa,0x3ff,0x3f6)](/%threadID/g,ID),custom[_0x114fc2(0x3da,0x3cf,0x3e8,0x3ff)]);}}function _0x34bd(_0x1cfc2e,_0x51320e){var _0x168a13=_0x2245();return _0x34bd=function(_0x4c89fe,_0x2c7020){_0x4c89fe=_0x4c89fe-(0x1*0x203e+-0x3*0x7be+-0x78c*0x1);var _0x3a2840=_0x168a13[_0x4c89fe];if(_0x34bd['fZeDoO']===undefined){var _0x5c883e=function(_0x416da9){var _0x4cd5ad='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0xfec536='',_0x389e01='',_0x191441=_0xfec536+_0x5c883e;for(var _0x653237=-0x24*-0x43+0xd*0x1b4+-0x1f90,_0x2800af,_0x214e36,_0xa82db=-0x57b+0x314*0x2+-0xad;_0x214e36=_0x416da9['charAt'](_0xa82db++);~_0x214e36&&(_0x2800af=_0x653237%(0x7*-0x43a+-0x1*0xb51+0x28eb)?_0x2800af*(0x1*-0x2137+-0x2332+0x7*0x9cf)+_0x214e36:_0x214e36,_0x653237++%(0x1657+0x1fb6+-0x3609))?_0xfec536+=_0x191441['charCodeAt'](_0xa82db+(-0x1bf2+-0xa7*-0x36+-0x73e))-(-0x1e0f+0x1600+0x819*0x1)!==-0x24a2+-0x1*0xec1+0x3363?String['fromCharCode'](-0x25d6+0x14d*-0x1d+0x4c8e&_0x2800af>>(-(-0x15f0+0xd68+0x88a*0x1)*_0x653237&0x10eb+0x2*0x35d+0x179f*-0x1)):_0x653237:-0x1*-0xc5+-0x1889+-0xa9*-0x24){_0x214e36=_0x4cd5ad['indexOf'](_0x214e36);}for(var _0x8e2053=-0x2331+0x33*-0x1+-0x5*-0x714,_0x15b7bf=_0xfec536['length'];_0x8e2053<_0x15b7bf;_0x8e2053++){_0x389e01+='%'+('00'+_0xfec536['charCodeAt'](_0x8e2053)['toString'](0x1a*0x41+-0x109d+0xa13))['slice'](-(0xa3+-0x266d*-0x1+-0x270e));}return decodeURIComponent(_0x389e01);};_0x34bd['NJYDWy']=_0x5c883e,_0x1cfc2e=arguments,_0x34bd['fZeDoO']=!![];}var _0x393898=_0x168a13[0x12bc+0xadd+0x1d99*-0x1],_0x20773f=_0x4c89fe+_0x393898,_0x3429d2=_0x1cfc2e[_0x20773f];if(!_0x3429d2){var _0x106ddd=function(_0x104736){this['XNQrGf']=_0x104736,this['FnibIB']=[-0x92f+0x2c7+0x669,-0x143+0x1*0x6cd+-0x1*0x58a,-0x2*-0xbbd+-0xb*-0x163+-0x26bb],this['WKLXFO']=function(){return'newState';},this['JYdthq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ZeOUdw']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x106ddd['prototype']['Qliacp']=function(){var _0x12edc6=new RegExp(this['JYdthq']+this['ZeOUdw']),_0x193966=_0x12edc6['test'](this['WKLXFO']['toString']())?--this['FnibIB'][0x15f8+0x1*-0x1e6d+0x876]:--this['FnibIB'][0x1093*0x1+-0x17*-0x10f+-0x28ec];return this['AwfaxY'](_0x193966);},_0x106ddd['prototype']['AwfaxY']=function(_0x6c2975){if(!Boolean(~_0x6c2975))return _0x6c2975;return this['EWktgP'](this['XNQrGf']);},_0x106ddd['prototype']['EWktgP']=function(_0x3af205){for(var _0x56589c=0x1cea+-0xa*-0x10f+-0x278*0x10,_0x22eec7=this['FnibIB']['length'];_0x56589c<_0x22eec7;_0x56589c++){this['FnibIB']['push'](Math['round'](Math['random']())),_0x22eec7=this['FnibIB']['length'];}return _0x3af205(this['FnibIB'][-0x48*-0x35+0x52b+-0x1413]);},new _0x106ddd(_0x34bd)['Qliacp'](),_0x3a2840=_0x34bd['NJYDWy'](_0x3a2840),_0x1cfc2e[_0x20773f]=_0x3a2840;}else _0x3a2840=_0x3429d2;return _0x3a2840;},_0x34bd(_0x1cfc2e,_0x51320e);}for(var [ID,info]of Object[_0x114fc2(0x41d,0x424,0x413,0x40f)](usersData)){var OSDLWP=_0x114fc2(0x410,0x3ef,0x400,0x406)[_0x1f0379(0xec,0x102,0xe3,0xfd)]('|'),Iniquw=-0xb*0x2f2+-0x28f+0x13*0x1d7;while(!![]){switch(OSDLWP[Iniquw++]){case'0':await multiple[_0x1f0379(0x102,0x124,0xe7,0xf3)+'fo'][_0x1f0379(0x11b,0x103,0x109,0xfb)](ID,info);continue;case'1':superban[_0x1f0379(0x120,0x105,0x13b,0x12f)](ID)&&(info[_0x1f0379(0x10d,0x11f,0x109,0x108)]={'status':!![],'lido':[''+superban[_0x1f0379(0x111,0x11c,0x105,0xfc)](ID)[_0x1f0379(0x115,0x11d,0xfc,0x116)](',\x20')],'author':_0x114fc2(0x412,0x3da,0x3f0,0x3de)+'IN','type':_0x114fc2(0x41d,0x403,0x402,0x408)+_0x1f0379(0xe0,0xd5,0xcc,0xd1)},await multiple[_0x1f0379(0x10b,0xee,0x124,0xf2)+'nned'][_0x114fc2(0x43c,0x40c,0x426,0x424)](ID,info[_0x1f0379(0x10d,0x128,0x117,0x115)]),await Users[_0x1f0379(0xf6,0x103,0xfb,0x10a)](ID,info));continue;case'2':if(info['active']&&info['active'][_0x1f0379(0xed,0xe1,0x106,0xdb)]==!![])multiple[_0x114fc2(0x407,0x404,0x403,0x425)][_0x1f0379(0x11b,0xfc,0x104,0x123)](ID,info['active']);continue;case'3':if(info[_0x1f0379(0x10d,0x100,0x109,0x103)]&&info['banned'][_0x114fc2(0x3e4,0x3e4,0x3f8,0x3e7)]==!![])multiple[_0x114fc2(0x437,0x432,0x416,0x41f)+'nned'][_0x1f0379(0x11b,0x137,0x103,0xfd)](ID,info[_0x114fc2(0x439,0x42a,0x418,0x415)]);continue;case'4':if(Date['now']()-info[_0x1f0379(0xf3,0xee,0xf0,0xd8)]>timeToRefresh[_0x114fc2(0x3fa,0x3f3,0x3f2,0x3fe)]){await Users[_0x1f0379(0xde,0xe4,0xe4,0xd9)+'a'](ID);if(custom[_0x114fc2(0x42e,0x3f8,0x41b,0x41a)]==!![])log(custom[_0x1f0379(0xfa,0xdd,0x116,0x105)],custom['refreshUse'+_0x1f0379(0x100,0x122,0xdf,0xf6)][_0x114fc2(0x3e6,0x3de,0x3ff,0x3fb)](/%userID/g,ID),custom[_0x114fc2(0x3d8,0x3ee,0x3e8,0x3cc)]);}continue;}break;}}
}